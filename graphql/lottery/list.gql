query getLotteries(
  $filter: lotteries_bool_exp
  $order: [lotteries_order_by]
  $limit: Int
  $offset: Int
  $user_id: uuid
) {
  lotteries(where: $filter, order_by: $order, limit: $limit, offset: $offset) {
    id
    lottery_id
    total_tickets
    price_per_ticket
    created_at
    status
    description
    when_all_tickets_sold
    total_sold_tickets
    likes(where: { user_id: { _eq: $user_id } }) {
      id
      user_id
    }
    user {
      id
      name
      phone
      alternate_phone
      profile_image
      number_of_lotteries
      total_likes
      rating
    }
    end_date
    items(order_by: { order: asc }) {
      id
      title
      order
      category_id
      category {
        id
        name
        icon
      }
    }
    medias {
      id
      url
      is_featured
    }
    payment_options {
      id
      lottery_id
      user_payment_option_id
      user_payment_option {
        id
        user_id
        account_number
        account_name
        payment_option {
          id
          name
        }
      }
    }
  }
  lotteries_aggregate(where: $filter) {
    aggregate {
      count
    }
  }
}
